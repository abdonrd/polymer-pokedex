<!--
@license

Copyright (c) 2017-present, Abdón Rodríguez Davila (@abdonrd).

This source code is licensed under the MIT license found in the LICENSE file in
the root directory of this source tree.
-->

<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../elements/pokemon-type-list.html">
<link rel="import" href="../app-icons.html">

<dom-module id="page-pokemons-detail">
  <template>
    <style>
      :host {
        display: flex;
        flex-direction: column;
        align-items: center;
        height: 100vh;
        overflow-x: auto;
        background-color: #d2bbeb;
        background-image: url("../../images/page-pokemons-detail-background.png"),
                          linear-gradient(#d2bbeb, #8a97ed);
        animation: 10s linear infinite animateBackground;
      }

      @keyframes animateBackground {
        from {
          background-position-x: 0;
        }

        to {
          background-position-x: 500px;
        }
      }

      .close-button {
        display: inline-block;
        position: fixed;
        bottom: 32px;
        color: inherit;
      }

      .close-button paper-icon-button {
        border-radius: 50%;
        color: #228899;
        background-color: rgba(242, 255, 252, 0.97);
        position: relative;
      }

      .close-button paper-icon-button::after {
        position: absolute;
        content: '';
        border: 2px solid #228899;
        top: -2px;
        bottom: -2px;
        left: -2px;
        right: -2px;
        border-radius: 50%;
      }

      .close-button paper-icon-button::before {
        position: absolute;
        content: '';
        border: 5px solid rgba(230, 230, 230, 0.7);
        top: -7px;
        bottom: -7px;
        left: -7px;
        right: -7px;
        border-radius: 50%;
        box-shadow: 0 0 0px 3px rgba(0, 0, 0, 0.1);
      }

      img {
        display: flex;
        flex: 0 0 256px;
        width: 256px;
        height: 256px;
        line-height: 256px;
        text-align: center;
      }

      h1 {
        font-size: 1.5em;
        font-weight: normal;
        margin: 1em 0;
      }

      .weight-height {
        font-size: .9em;
      }

      .weight,
      .height {
        display: inline;
      }

      .weight {
        margin-right: 1em;
      }
    </style>

    <a href$="[[rootPath]]" tabindex="-1" class="close-button">
      <paper-icon-button icon="app-icons:close"></paper-icon-button>
    </a>

    <img src$="[[_pokemon.image]]" alt$="[[_pokemon.name]]">

    <h1>[[_pokemon.id]] [[_upperCase(_pokemon.name)]]</h1>

    <pokemon-type-list types="[[_pokemon.types]]"></pokemon-type-list>

    <div class="weight-height">
      <div class="weight">WEIGHT: [[_formatWeight(_pokemon.weight)]] kg</div>
      <div class="height">HEIGHT: [[_formatHeight(_pokemon.height)]] m</div>
    </div>
  </template>

  <script>
    class PagePokemonsDetail extends Polymer.Element {
      static get is() {
        return 'page-pokemons-detail';
      }

      static get properties() {
        return {
          _pokemon: {
            type: Object
          }
        };
      }

      _formatWeight(weight) {
        return weight / 10;
      }

      _formatHeight(height) {
        return height / 10;
      }

      _upperCase(string) {
        return string.toUpperCase();
      }
    }

    customElements.define(PagePokemonsDetail.is, PagePokemonsDetail);
  </script>
</dom-module>
